{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect, Component, Card, Background, Logo } from 'react';\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar API_URL = Platform.OS !== 'ios' ? 'http://localhost:5000' : 'http://10.0.2.2:5000';\nvar RecordScreen = function RecordScreen(_ref) {\n  var state = _ref.state,\n    navigation = _ref.navigation,\n    route = _ref.route;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isClickable = _useState2[0],\n    setIsClickable = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    file = _useState4[0],\n    setFile = _useState4[1];\n  var handleFileSelect = function handleFileSelect(event) {\n    setIsClickable(true);\n    setFile(event.target.files[0]);\n  };\n  var handleNavigate = function _callee() {\n    var formData, response;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (file) {\n            _context.next = 2;\n            break;\n          }\n          return _context.abrupt(\"return\");\n        case 2:\n          formData = new FormData();\n          formData.append('file', file);\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(fetch('http://130.127.49.180:8086/process_file', {\n            method: 'POST',\n            body: formData\n          }));\n        case 6:\n          response = _context.sent;\n          if (response.status == \"200\") {\n            console.log('File processed successfully');\n          } else {\n            console.error('Failed to process file');\n          }\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }, null, null, null, Promise);\n  };\n  return _jsxs(View, {\n    style: styles.back,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(TouchableOpacity, {\n        style: styles.headerHome,\n        onPress: function onPress() {\n          navigation.navigate('MainNav');\n        },\n        children: _jsx(Text, {\n          children: \"Home\"\n        })\n      }), _jsx(Text, {\n        style: styles.headerTitle,\n        children: \"Transpose\"\n      })]\n    }), _jsx(Text, {\n      style: styles.heading,\n      children: \"Sing a 5 second melody below!\"\n    }), _jsx(View, {\n      style: styles.inputRecord,\n      children: _jsx(\"input\", {\n        type: \"file\",\n        accept: \".wav\",\n        onChange: function onChange(event) {\n          return handleFileSelect(event);\n        }\n      })\n    }), _jsx(View, {\n      style: {\n        opacity: isClickable ? '1' : '0.5'\n      },\n      children: _jsx(TouchableOpacity, {\n        disabled: isClickable ? false : true,\n        style: {\n          marginTop: '15%',\n          marginLeft: '50%',\n          marginRight: '50%',\n          backgroundColor: 'lightgray',\n          width: '150px',\n          color: 'white',\n          paddingTop: 10,\n          fontSize: 16,\n          minHeight: 30,\n          alignSelf: 'center',\n          borderRadius: '10%'\n        },\n        onPress: function onPress() {\n          handleNavigate();\n        },\n        children: _jsx(Text, {\n          style: {\n            color: 'black',\n            alignSelf: 'center',\n            transform: 'translateY(-33%)'\n          },\n          children: \"Start Lesson!\"\n        })\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  inputRecord: {\n    marginTop: '1%',\n    marginLeft: '50%',\n    marginRight: '50%',\n    fontSize: 16,\n    width: '185px',\n    minHeight: 30,\n    alignSelf: 'center'\n  },\n  inputContinue: {\n    marginTop: '15%',\n    marginLeft: '50%',\n    marginRight: '50%',\n    backgroundColor: 'lightgray',\n    width: '150px',\n    color: 'white',\n    paddingTop: 10,\n    fontSize: 16,\n    minHeight: 30,\n    alignSelf: 'center',\n    borderRadius: '10%'\n  },\n  header: {\n    width: '100%',\n    height: '10%',\n    backgroundColor: '#EBEBEB',\n    borderBottomWidth: '1px',\n    borderBottomColor: 'black',\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  headerTitle: {\n    color: 'black',\n    fontWeight: 'bold',\n    marginLeft: '40%',\n    marginRight: '60%',\n    marginBottom: 'auto',\n    marginTop: 'auto',\n    fontSize: '25px'\n  },\n  headerHome: {\n    color: 'black',\n    fontWeight: 'bold',\n    marginBottom: 'auto',\n    marginTop: 'auto',\n    fontSize: '15px',\n    marginLeft: '2%'\n  },\n  back: {\n    width: '100%',\n    height: '100%',\n    backgroundColor: '#EBEBEB'\n  },\n  heading: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginTop: '2%',\n    marginBottom: '5%',\n    textAlign: 'center',\n    color: 'black'\n  }\n});\nexport default RecordScreen;","map":{"version":3,"names":["React","useState","useEffect","Component","Card","Background","Logo","ImageBackground","View","Text","StyleSheet","TouchableOpacity","TextInput","Platform","Pressable","Image","jsx","_jsx","jsxs","_jsxs","API_URL","OS","RecordScreen","_ref","state","navigation","route","_useState","_useState2","_slicedToArray","isClickable","setIsClickable","_useState3","_useState4","file","setFile","handleFileSelect","event","target","files","handleNavigate","_callee","formData","response","_regeneratorRuntime","async","_callee$","_context","prev","next","abrupt","FormData","append","awrap","fetch","method","body","sent","status","console","log","error","stop","Promise","style","styles","back","children","header","headerHome","onPress","navigate","headerTitle","heading","inputRecord","type","accept","onChange","opacity","disabled","marginTop","marginLeft","marginRight","backgroundColor","width","color","paddingTop","fontSize","minHeight","alignSelf","borderRadius","transform","create","inputContinue","height","borderBottomWidth","borderBottomColor","display","flexDirection","fontWeight","marginBottom","textAlign"],"sources":["C:/Users/Jacob/Downloads/School Work/Honors Thesis/Correct_file_structure/mobile/screens/TransposeScreens/RecordScreen.js"],"sourcesContent":["import React, { useState, useEffect, Component, Card, Background, Logo } from 'react';\r\n\r\nimport { ImageBackground, View, Text, StyleSheet, TouchableOpacity, TextInput, Platform, Pressable, Image } from 'react-native';\r\n\r\nconst API_URL = Platform.OS !== 'ios' ? 'http://localhost:5000' : 'http://10.0.2.2:5000';\r\n//const API_URL = 'http://localhost:5000';\r\n\r\n\r\n\r\n\r\n\r\nconst RecordScreen = ({ state, navigation, route }) => {\r\n    const [isClickable, setIsClickable] = useState(false);\r\n\r\n    const [file, setFile] = useState(null);\r\n\r\n    const handleFileSelect = (event) => {\r\n        setIsClickable(true);\r\n        setFile(event.target.files[0]);\r\n\r\n    };\r\n\r\n    const handleNavigate = async () => {\r\n        if (!file) return;\r\n\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n    \r\n        const response = await fetch('http://130.127.49.180:8086/process_file', {\r\n            method: 'POST',\r\n            body: formData,\r\n        });\r\n    \r\n        if (response.status == \"200\") {\r\n            console.log('File processed successfully');\r\n        } else {\r\n            console.error('Failed to process file');\r\n        }\r\n\r\n\r\n        //const audio = new Audio(URL.createObjectURL(file));\r\n        //navigation.navigate('Transpose1', { audio: audio });\r\n    };\r\n\r\n\r\n    return (\r\n        <View style={styles.back}>\r\n            <View style={styles.header}>\r\n                <TouchableOpacity style={styles.headerHome}\r\n                    onPress={() => {\r\n                        navigation.navigate('MainNav');\r\n                    }}\r\n                ><Text>Home</Text></TouchableOpacity>\r\n                <Text style={styles.headerTitle}>Transpose</Text>\r\n            </View>\r\n            <Text style={styles.heading}>Sing a 5 second melody below!</Text>\r\n            <View style={styles.inputRecord}>\r\n                <input type=\"file\" accept=\".wav\" onChange={(event) => handleFileSelect(event)} />\r\n            </View>\r\n\r\n            <View style={{ opacity: isClickable ? '1' : '0.5', }}>\r\n                <TouchableOpacity\r\n                    disabled={isClickable ? false : true}\r\n                    //style={styles.inputContinue}\r\n                    style={{\r\n                        marginTop: '15%',\r\n                        marginLeft: '50%',\r\n                        marginRight: '50%',\r\n                        backgroundColor: 'lightgray',\r\n                        width: '150px',\r\n                        color: 'white',\r\n                        paddingTop: 10,\r\n                        fontSize: 16,\r\n                        minHeight: 30,\r\n                        alignSelf: 'center',\r\n                        borderRadius: '10%',\r\n                    }}\r\n                    onPress={() => {\r\n                        handleNavigate();\r\n                    }}\r\n                >\r\n                    <Text style={{ color: 'black', alignSelf: 'center', transform: 'translateY(-33%)' }}>Start Lesson!</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        </View>\r\n    );\r\n};\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    inputRecord: {\r\n        marginTop: '1%',\r\n        marginLeft: '50%',\r\n        marginRight: '50%',\r\n        fontSize: 16,\r\n        width: '185px',\r\n        minHeight: 30,\r\n        alignSelf: 'center',\r\n    },\r\n    inputContinue: {\r\n        marginTop: '15%',\r\n        marginLeft: '50%',\r\n        marginRight: '50%',\r\n        backgroundColor: 'lightgray',\r\n        width: '150px',\r\n        color: 'white',\r\n        paddingTop: 10,\r\n        fontSize: 16,\r\n        minHeight: 30,\r\n        alignSelf: 'center',\r\n        borderRadius: '10%',\r\n    },\r\n    header: {\r\n        width: '100%',\r\n        height: '10%',\r\n        backgroundColor: '#EBEBEB',\r\n        borderBottomWidth: '1px',\r\n        borderBottomColor: 'black',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n    },\r\n    headerTitle: {\r\n        color: 'black',\r\n        fontWeight: 'bold',\r\n        marginLeft: '40%',\r\n        marginRight: '60%',\r\n        marginBottom: 'auto',\r\n        marginTop: 'auto',\r\n        fontSize: '25px'\r\n    },\r\n    headerHome: {\r\n        color: 'black',\r\n        fontWeight: 'bold',\r\n        marginBottom: 'auto',\r\n        marginTop: 'auto',\r\n        fontSize: '15px',\r\n        marginLeft: '2%'\r\n    },\r\n    back: {\r\n        width: '100%',\r\n        height: '100%',\r\n        backgroundColor: '#EBEBEB',\r\n    },\r\n    heading: {\r\n        fontSize: 20,\r\n        fontWeight: 'bold',\r\n        marginTop: '2%',\r\n        marginBottom: '5%',\r\n        textAlign: 'center',\r\n        color: 'black',\r\n    },\r\n});\r\n\r\nexport default RecordScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}